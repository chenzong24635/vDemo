webpackJsonp([30],{"06py":function(a,s){},gprq:function(a,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=e("Xxa5"),n=e.n(t),r=e("exGp"),i=e.n(r),o=e("rHil"),d=e("cHu4"),c=e("2GJp"),l=e.n(c),u=e("4FCr"),p=e("Yf01"),m=(o.a,d.a,u.a,p.a,{code:"b2"}),v={pname:"",cname:"",rname:""},h={name:"",components:{Group:o.a,XAddress:d.a,LoadMore:u.a,scrollTop:p.a},data:function(){return{onLoadShow:!0,bannerImg:"",lists:[],addressData:l.a,addressValue:[],pname:"省",cname:"市",rname:"区"}},created:function(){v={pname:"",cname:"",rname:""},this.getBanner(),this.getLists()},methods:{getBanner:function(){var a=this;return i()(n.a.mark(function s(){var e;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.axios.post("/web/adlist",m);case 2:e=s.sent,a.bannerImg=a.base_img+e.data[0].img;case 4:case"end":return s.stop()}},s,a)}))()},getLists:function(){var a=this;return i()(n.a.mark(function s(){var e,t;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.axios.post("/web/storelist",v);case 2:(e=s.sent).success&&((t=e.data).map(function(a,s){a.fullAddress=a.pname+a.cname+a.rname+a.address,a.coordinate=a.coordinate.split(",")}),a.lists=t);case 4:case"end":return s.stop()}},s,a)}))()},search:function(){v={pname:this.addressValue[0],cname:this.addressValue[1],rname:this.addressValue[2]},this.getLists()},onShadowChange:function(a,s){this.pname=s[0],this.cname=s[1],this.rname=s[2]},show:function(){this.onLoadShow=!1},onHide:function(a){a||"省"!==this.pname||(this.onLoadShow=!0)},addressLink:function(a){console.log(a);var s="https://uri.amap.com/marker?position="+a.coordinate[0]+","+a.coordinate[1]+"&name="+a.fullAddress;window.open(s)}}},_={render:function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{},[e("scrollTop"),a._v(" "),e("div",{staticClass:"img"},[e("img",{staticClass:"img-title",attrs:{src:a.bannerImg,alt:""}})]),a._v(" "),e("h1",[a._v("专柜导航")]),a._v(" "),e("p",{staticClass:"p1"},[a._v("查询距离您最近的门店")]),a._v(" "),e("div",{staticClass:"address",on:{click:a.show}},[a.onLoadShow?e("p",{staticClass:"address2 a"},[e("span",[a._v("省")]),a._v(" "),e("span",[a._v("市")]),a._v(" "),e("span",[a._v("区")])]):e("p",{staticClass:"address2 b"},[e("span",[a._v(a._s(a.pname))]),a._v(" "),e("span",[a._v(a._s(a.cname))]),a._v(" "),e("span",[a._v(a._s(a.rname))])]),a._v(" "),e("div",{staticClass:"address1"},[e("group",[e("x-address",{attrs:{title:"","raw-value":"",list:a.addressData,placeholder:"省 市 区","value-text-align":"left"},on:{"on-shadow-change":a.onShadowChange,"on-hide":a.onHide},model:{value:a.addressValue,callback:function(s){a.addressValue=s},expression:"addressValue"}})],1)],1)]),a._v(" "),e("button",{staticClass:"search primary",on:{click:a.search}},[a._v("搜索专柜")]),a._v(" "),e("section",[a.lists.length>0?e("ul",{attrs:{id:"lists"}},a._l(a.lists,function(s){return e("li",{key:s.id,staticClass:"vux-1px-b",on:{click:function(e){a.addressLink(s)}}},[e("h3",{staticClass:"title"},[a._v(a._s(s.title))]),a._v(" "),e("div",{staticClass:"detail"},[a._v("\n          "+a._s(s.fullAddress)+"\n        ")])])}),0):e("load-more",{attrs:{"show-loading":!1,tip:"暂无数据"}})],1)],1)},staticRenderFns:[]};var f=e("VU/8")(h,_,!1,function(a){e("06py")},"data-v-1420b062",null);s.default=f.exports}});
//# sourceMappingURL=30.b3e36ef2a1a513254c61.js.map