webpackJsonp([18],{OkC0:function(t,s){},P9Xd:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAAMCAIAAAB9Qpv+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0OTU2YTlkOC01NDAyLWNkNDYtYmRhNy0xODE3MTc4ZDhkZTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjkzOUJCQTQ1OUE4MTFFOEFCMEFENTk4QTE0QTlCQ0UiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjkzOUJCQTM1OUE4MTFFOEFCMEFENTk4QTE0QTlCQ0UiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDJlNzBlNDMtYmU0NS04ZjQwLWJmNDgtZjE0YjhkYWM1ZTEzIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDU2NGJhM2ItNTRlMS0xMWU4LTg5OTUtZTBiNTAzYWZlMmJkIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZRzy+wAAAkdJREFUeNrs2t1ygjAQBeCgIlWLgMXW93+13kAlSkAFlZ9metVia1ubTEJ6zhNkdpJvh12s6JkSyWmahsbssCuJHrEsKwhd158pPEO23ac0b9tWk5rM3Mni0RsMLFUHKIsTjdKqqjUpiD0eLVeB7YxUHaCu6iRm5eGoSUH43eA3hN8TVQfgb4XRnG13RJtwQ7gk3BNVB+Co0hfW1I0mBXHuxuHKH9lDVQeoztU6Sk/lWZOCDIeDhyd/MnO+bEayGzBgBazfw7rJ2QawAlZzYJX/atrNOtuxgy5vxiJecO8vXKLs0ZBdduA1aRtdvmr49eCXhF+Va2WT14AB6yew7ksaA1bAeg3W7TrLAWvPYZWa0/GcROn5VGlSEA4IZ4RjouoA/R2yymrAgFV3WAnxFoD1I6xT52EFWD/C+uQ7E8D6a1jlBdurTno9ZJXSgAErYAWsgPU/wyoj2F5dfNX0fsgquAEDVsAKWH8Pa5PEKWA1CVbhwfaqEzOGrCIbsIaw8isydmzACli/hnUahHOFsBb7MgGsxsEq9NVge9WNMUNWQQ24JSlgBazfwZpE6RGwAtZ/AKuoYHvViWFDVgENGLAC1h/AWmzXrAGs2sI6evuRFbAKglVIsL3qxLzt1V8bMGAFrL2D1Q/dOWAFrFdhxfbqfbC9uoyQIevtDZjDunnJ9nkBWAErYO0xrEtvNlcGK7ZXl8H2qhODh6w3NmDAegkrjdMCsOoMqzcNlophpTGrNYLVDlcBYJUB663fedhedWP2kPVVgAEAnGwH2gF6iFQAAAAASUVORK5CYII="},QaXj:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),i=e.n(a),o=e("rLAy"),n=e("YxJB"),c=e("3Lt7"),l=e("/0UN"),r=e("hGvq"),d=e("pDNl"),v=e("rHil"),u=e("ALGc"),p=e("oWtu"),h=(o.a,n.a,c.a,l.a,r.a,d.a,v.a,u.a,p.a,{name:"",components:{Toast:o.a,Flexbox:n.a,FlexboxItem:c.a,Checker:l.a,CheckerItem:r.a,XInput:d.a,Group:v.a,XTextarea:u.a,Icon:p.a},data:function(){return{type:"",ids:[],toastData:{isShow:!1,type:"success",text:"购买成功"},defaultAddress:{},lists:[],amounts:0,freight:0,nofreight:0,isBill:0,billType:"",json:{addressid:"",buyer:"",invoice:0,invoicebank:"个人发票",invoicecode:"",invoicetitle:"",invoicecontext:"化妆品",source:2}}},destroyed:function(){this.componentsShow(!0)},mounted:function(){this.componentsShow(!1)},created:function(){var t=this,s=this.$route.params.type/1;console.log(s,"type");var e=JSON.parse(sessionStorage.getItem("settleLists")),a=JSON.parse(localStorage.getItem("defaultAddress"));if(this.type=s,a?this.defaultAddress=a:this.getAddressList(),this.lists=e,1===s||2===s?this.ids=[e[0].proscar]:3===s&&e.map(function(s,e){t.ids.push(s.id)}),this.amounts=e.reduce(function(t,s,e,a){return t+=s.proamount*s.number},0),2!==s){console.log(this.ids);var i=sessionStorage.getItem("nofreight")/1,o=sessionStorage.getItem("freight")/1;this.nofreight=i,this.amounts>=i?this.freight=0:(this.amounts+=o,this.freight=o)}else console.log(e)},methods:{componentsShow:function(t){this.$store.state.bottomShow=t},change:function(t){console.log(t)},getAddressList:function(){var t=this;this.axios.post("member/addresslist",{order:"ASC",pageNum:1,pageSize:100}).then(function(s){t.defaultAddress=s.data[0],localStorage.setItem("defaultAddress",i()(s.data[0]))})},settle:function(){var t=this,s=1,e="";this.json.addressid=this.defaultAddress.id,2===this.type?(s=2,e="account/accountintegral",this.json.pros=this.ids.join(),this.json.nubmer=this.lists[0].num):4===this.type?e="account/accountsmall":(s=1,this.json.proscar=this.ids.join(),e="account/account"),this.axios.post(e,this.json).then(function(e){if(e.success){sessionStorage.removeItem("settleLists"),t.toastData={isShow:!0,type:"success",text:"购买成功"};var a=setTimeout(function(){t.$router.push({name:"order",params:{type:s,id:0}}),clearTimeout(a)},1e3)}else t.toastData={isShow:!0,type:"warn",text:e.message}})}}}),m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("router-link",{staticClass:"flex01",attrs:{to:{name:"address",params:{type:t.type}},id:"address"}},[e("div",{staticClass:"address-l"},[e("p",{staticClass:"flex01"},[e("span",{staticClass:"name"},[t._v(t._s(t.defaultAddress.recive))]),t._v(" "),e("span",{staticClass:"phone"},[t._v(t._s(t.defaultAddress.mobile))])]),t._v(" "),e("p",{staticClass:"address"},[t._v(t._s(t.defaultAddress.pname)+t._s(t.defaultAddress.cname)+t._s(t.defaultAddress.rname)+t._s(t.defaultAddress.address))])]),t._v(" "),e("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"25",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])]),t._v(" "),t._m(0),t._v(" "),e("section",{staticClass:"bb10"},[e("ul",{attrs:{id:"lists"}},t._l(t.lists,function(s,a){return e("li",{key:a,staticClass:"list vux-1px-b"},[e("flexbox",[e("flexbox-item",{attrs:{span:3}},[e("div",{staticClass:"flex-demo"},[e("img",{staticClass:"img-title",attrs:{src:s.img,alt:""}})])]),t._v(" "),e("flexbox-item",{attrs:{span:6}},[e("p",[t._v(t._s(s.proname))]),t._v(" "),e("p",{staticClass:"gg"},[t._v("规格："+t._s(s.proskuname))])]),t._v(" "),e("flexbox-item",{attrs:{span:3}},[e("div",{staticClass:"flex-demo"},[2!==t.type?e("p",[t._v("￥"+t._s(s.proamount))]):e("p",[t._v(t._s(s.integral)+"积分")]),t._v(" "),e("p",{staticClass:"flex01-1"},[e("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close-empty",attrs:{type:"ios-close-empty",size:"20",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[e("path",{staticClass:"st0",attrs:{d:"M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"}})]),t._v(t._s(s.number))])])])],1)],1)}),0)]),t._v(" "),2!==t.type?e("section",{staticClass:" bb10",attrs:{id:"invoice"}},[e("div",{staticClass:"invoice vux-1px-b flex01-1"},[e("span",[t._v("开具发票：")]),t._v(" "),e("checker",{attrs:{"radio-required":"","default-item-class":"selected0","selected-item-class":"selected1"},model:{value:t.json.invoice,callback:function(s){t.$set(t.json,"invoice",s)},expression:"json.invoice"}},[e("checker-item",{attrs:{value:1}},[t._v("是")]),t._v(" "),e("checker-item",{attrs:{value:0}},[t._v("否")])],1)],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.json.invoice,expression:"json.invoice"}]},[e("div",{staticClass:"invoice vux-1px-b flex01-1"},[e("span",[t._v("发票类型：")]),t._v(" "),e("checker",{attrs:{"radio-required":"","default-item-class":"selected0","selected-item-class":"selected1"},model:{value:t.json.invoicebank,callback:function(s){t.$set(t.json,"invoicebank",s)},expression:"json.invoicebank"}},[e("checker-item",{attrs:{value:"个人发票"}},[t._v("个人发票")]),t._v(" "),e("checker-item",{attrs:{value:"企业普通发票"}},[t._v("企业普通发票")]),t._v(" "),e("checker-item",{attrs:{value:"企业增值发票"}},[t._v("企业增值发票")])],1)],1),t._v(" "),e("div",{staticClass:"invoice vux-1px-b flex01-1"},[e("span",[t._v("发票抬头：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.json.invoicetitle,expression:"json.invoicetitle"}],staticClass:"no",attrs:{type:"text",placeholder:"请输入发票抬头"},domProps:{value:t.json.invoicetitle},on:{input:function(s){s.target.composing||t.$set(t.json,"invoicetitle",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"invoice flex01-1"},[e("span",[t._v("发票内容：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.json.invoicecontext,expression:"json.invoicecontext"}],staticClass:"no",attrs:{readonly:"",type:"text",placeholder:"请输入发票内容"},domProps:{value:t.json.invoicecontext},on:{input:function(s){s.target.composing||t.$set(t.json,"invoicecontext",s.target.value)}}})])])]):t._e(),t._v(" "),e("group",{},[e("x-textarea",{attrs:{title:"买家留言："},model:{value:t.json.buyer,callback:function(s){t.$set(t.json,"buyer",s)},expression:"json.buyer"}})],1),t._v(" "),e("section",{staticClass:" js tar"},[e("p",{staticClass:"bt10 bb10 p10"},[t._v("共"+t._s(t.lists.length)+"件商品 合计：\n      "),2!==t.type?e("span",[t._v("￥"+t._s(t.amounts))]):e("span",[t._v(t._s(t.amounts)+"积分")])]),t._v(" "),2!==t.type?e("p",{staticClass:"bb10 p10 "},[t._v("运费："+t._s(t.freight))]):t._e()]),t._v(" "),e("section",{staticClass:"bottom1 flex01"},[e("p",{staticClass:"flex01"},[e("icon",{attrs:{type:"warn"}}),t._v("\n      提示：实付满"+t._s(t.nofreight)+"元 即赠免物流费\n    ")],1),t._v(" "),e("router-link",{staticClass:"cd flex01",attrs:{to:{name:"product",params:{pid:0,val:"null"}}}},[t._v("\n      去凑单\n      "),e("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"15",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])],1),t._v(" "),e("section",{staticClass:"bottom2 flex01"},[2!==t.type?e("p",{staticClass:"amounts"},[t._v("\n      应付金额：￥"),e("span",[t._v(t._s(t.amounts))])]):e("p",{staticClass:"amounts"},[t._v("\n      应付积分："),e("span",[t._v(t._s(t.amounts))])]),t._v(" "),e("div",{staticClass:"settle flex01",on:{click:t.settle}},[t._v("提交订单")])]),t._v(" "),e("toast",{attrs:{type:t.toastData.type,text:t.toastData.text,width:"45vw",time:1e3,"is-show-mask":!0,position:"middle"},model:{value:t.toastData.isShow,callback:function(s){t.$set(t.toastData,"isShow",s)},expression:"toastData.isShow"}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("img",{staticClass:"img-title",attrs:{src:e("P9Xd"),alt:""}})])}]};var g=e("VU/8")(h,m,!1,function(t){e("OkC0")},"data-v-3c8f0878",null);s.default=g.exports}});
//# sourceMappingURL=18.d5ea29e199a495f8786d.js.map