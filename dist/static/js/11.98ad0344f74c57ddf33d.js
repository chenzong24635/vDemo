webpackJsonp([11],{BBk2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),o=s.n(a),n=s("rHil"),i=s("pDNl"),r=s("2sLL"),l=s("ALGc"),c=s("rLAy"),d=s("2GJp"),u=s.n(d),p=s("cHu4"),h=s("EmH9"),m=s("0xDb"),v=(n.a,i.a,r.a,l.a,c.a,p.a,h.a,{name:"",components:{Group:n.a,XInput:i.a,XButton:r.a,XTextarea:l.a,Toast:c.a,XAddress:p.a,CheckIcon:h.a},data:function(){return{type:"",detail:{},toastData:{isShow:!1,type:"warn",text:""},addressData:u.a,addressValue:[],onLoadShow:!0,json:{address:"",pname:"",cname:"",rname:"",mobile:null,recive:"",default:!0}}},created:function(){var e=this.$route.params.id;this.type=this.$route.params.type,e&&"null"!==e&&(this.json.id=e,this.getDetail(e))},methods:{getDetail:function(e){var t=this;this.axios.post("member/addresslist",{order:"ASC",pageNum:1,pageSize:100}).then(function(s){s.data.some(function(s,a){s.id===e&&(t.addressValue=[s.pname,s.cname,s.rname],t.json.address=s.address,t.json.pname=s.pname,t.json.cname=s.cname,t.json.rname=s.rname,t.json.id=s.id,t.json.mobile=s.mobile,t.json.recive=s.recive,console.log(t.detail))})})},onShadowChange:function(e,t){this.json.pname=t[0],this.json.cname=t[1],this.json.rname=t[2],this.addressValue=[t[0],t[1],t[2]]},hide:function(e){e||"省"!==this.json.pname||(this.onLoadShow=!0)},show:function(){console.log("show")},save:function(){var e=this,t=this.json,s="";if(t.recive)if("[]"===o()(this.addressValue))s="请选择地址";else if(t.address){if(t.mobile&&Object(m.d)(t.mobile))return console.log(this.json.id),this.json.id?(console.log("c"),this.axios.post("member/addressedit",this.json).then(function(t){t.success&&(s="修改成功",e.link(s))})):(console.log("add"),this.axios.post("member/addressadd",t).then(function(t){t.success&&(s="添加成功",e.link(s))})),!1;s="请填写正确的手机号"}else s="请填写详细地址";else s="请填写收货人";this.toastData.type="warn",this.toastData.text=s,this.toastData.isShow=!0,console.log("save",s)},link:function(e){var t=this;this.toastData.text=e,this.toastData.isShow=!0,this.toastData.type="success";var s=setTimeout(function(){return t.$router.push({name:"address",params:{type:t.type}}),clearTimeout(s),!1},1e3)}}}),f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"form"},[s("group",{staticClass:"form-list"},[s("x-input",{attrs:{title:"收货人",required:"",type:"text",placeholder:"请输入收件人名称",autofocus:""},model:{value:e.json.recive,callback:function(t){e.$set(e.json,"recive",t)},expression:"json.recive"}})],1),e._v(" "),s("group",{staticClass:"form-list"},[s("x-address",{attrs:{title:"地址选择",list:e.addressData,placeholder:"请选择地址"},on:{"on-hide":e.hide,"on-show":e.show,"on-shadow-change":e.onShadowChange},model:{value:e.addressValue,callback:function(t){e.addressValue=t},expression:"addressValue"}})],1),e._v(" "),s("group",{staticClass:"form-list"},[s("x-textarea",{attrs:{title:"详细地址",required:"",placeholder:"请输入详细地址信息，如街道、门牌号、小区、楼号等等"},model:{value:e.json.address,callback:function(t){e.$set(e.json,"address",t)},expression:"json.address"}})],1),e._v(" "),s("group",{staticClass:"form-list"},[s("x-input",{attrs:{title:"手机号码",required:"",type:"tel",placeholder:"请输入手机号"},model:{value:e.json.mobile,callback:function(t){e.$set(e.json,"mobile",e._n(t))},expression:"json.mobile"}})],1),e._v(" "),s("div",{staticClass:"tac",attrs:{id:"check"}},[s("check-icon",{staticClass:"flex01",attrs:{value:e.json.default},on:{"update:value":function(t){e.$set(e.json,"default",t)}}},[e._v("设置为默认地址")])],1),e._v(" "),s("div",{staticClass:"btn-link"},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.save(t)}}},[e._v("保存")])],1)],1),e._v(" "),s("toast",{attrs:{type:e.toastData.type,text:e.toastData.text,width:"45vw",time:1e3,"is-show-mask":!0,position:"middle"},model:{value:e.toastData.isShow,callback:function(t){e.$set(e.toastData,"isShow",t)},expression:"toastData.isShow"}})],1)},staticRenderFns:[]};var j=s("VU/8")(v,f,!1,function(e){s("Rn0+")},"data-v-e93df750",null);t.default=j.exports},EmH9:function(e,t,s){"use strict";var a=s("oWtu"),o=(a.a,Boolean,String,{name:"check-icon",components:{Icon:a.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vux-check-icon",on:{click:e.updateValue}},[s("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===e.type&&e.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===e.type&&e.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],attrs:{type:"circle"}}),e._v(" "),s("span",[e._t("default")],2)],1)},staticRenderFns:[]};var i=s("VU/8")(o,n,!1,function(e){s("oscO")},null,null);t.a=i.exports},"Rn0+":function(e,t){},oscO:function(e,t){}});
//# sourceMappingURL=11.98ad0344f74c57ddf33d.js.map